<form #userForm="ngForm" (ngSubmit)="addUser(newUser)">
  <input type="text" class="form-control" name="firstName" [(ngModel)]="newUser.firstName" placeholder="First Name" required />
  <input type="text" class="form-control" name="lastName" [(ngModel)]="newUser.lastName" placeholder="Last Name" required />
  <input type="text" class="form-control" name="email" [(ngModel)]="newUser.email" placeholder="Email" required />
  <input type="text" class="form-control" name="username" [(ngModel)]="newUser.username" placeholder="Username" required />
 
  <input type="text" class="form-control" name="gender" [(ngModel)]="newUser.gender" placeholder="Gender" />
  <input type="text" class="form-control" name="role" [(ngModel)]="newUser.role" placeholder="Role" />
  <input type="text" class="form-control" name="image" [(ngModel)]="newUser.image" placeholder="Image URL" />
  <input type="text" class="form-control" name="state" [(ngModel)]="newUser.address.state" placeholder="State" />

  <button class="btn btn-success" type="submit" [disabled]="userForm.invalid">Add User</button>
</form>

<div class="filter-bar">
  <input type="text" class="form-control" placeholder="Search with gender..." [(ngModel)]="searchGender" (input)="filterUsers()" />
  <input type="text" class="form-control" placeholder="Search with role..." [(ngModel)]="searchRole" (input)="filterUsers()" />
  <input type="text" class="form-control" placeholder="Search with state..." [(ngModel)]="searchState" (input)="filterUsers()" />
</div>

@if(filteredUsers.length != 0)
{
  <div class="users">
    @for(user of filteredUsers; track user.id)
    {
      <div class="card">
        <img [src]="user.image" alt="User Image" width="100" />
        <h2>{{ user.firstName }} {{ user.lastName }}</h2>
        <p>Username: {{ user.username }}</p>
        <p>Email: {{ user.email }}</p>
        <p>Gender: {{ user.gender }}</p>
        <p>Role: {{ user.role }}</p>
        <p>State: {{ user.address.state }}</p>

      </div>
    }
  </div>
}
@else {
    <h1>No users</h1>
}
<!-- <h3>Gender Distribution</h3>
<canvas baseChart
        [data]="genderChartData"
        [type]="'bar'">
</canvas>

<h3>Role Distribution</h3>
<canvas baseChart
        [data]="roleChartData"
        [type]="'pie'">
</canvas> -->
